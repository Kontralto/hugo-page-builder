{{ $scratch := partial "dev/scratch/set-for-item-context" . }}

{{ $scratch := partial "dev/scratch/enrich/default-value" (dict
  "name" "columnClass"
  "value" .Params.columnClass
  "fallback" "col-12 col-md-4"
  "scratch" $scratch 
) }}

{{ $scratch.Set "quantity" 3 }}
{{ if .Params.quantityToHighlight }}
  {{ $scratch.Set "quantity" .Params.quantityToHighlight }}
{{ end }}

{{ $context := $scratch.Get "context" }}
{{ $colClass := $scratch.Get "columnClass" }}

<div class="component taxonomy-top-terms">
  <div class="container pt-6 pb-6">
    <div class="row">
      <div class="col-12 mb-4">
        <h2>Top {{ ($scratch.Get "quantity") }} {{ title .Data.Plural }}</h2>
      </div>
      {{ range first ($scratch.Get "quantity") .Data.Terms.ByCount }}
          <div class="{{$colClass}} mb-3">
            <a href="{{.Name}}" class="text-decoration-none" >
              <div class="card h-100">
                <div class="pt-2 pb-2 card-header" style="height:89px">
                  <h3 class="h5 m-0">{{ title .Name }}</h3>
                </div>
                <div class="card-body  ps-4 pt-2 pb-2">
                  <p class="m-0">Explore {{ len .Pages }} pieces of content</p>
                </div>
              </div>
          </a>
        </div>
      {{ end }}

    </div>
  </div>
</div>
