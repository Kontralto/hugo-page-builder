<!-- CHECK ARGS -->
{{ $args := (slice "name" "fallback" "value" "scratch") }}
{{ $input := . }}
{{ range $arg := $args }}
  {{ if not (isset $input $arg) }}
    {{ errorf "partial get/default-value is missing argument %q" $arg }}
  {{ end }}
{{ end }}

<!-- SET SCRATCH -->
{{ if .value }}
  {{ .scratch.Set .name .value }}
{{ else }}
  {{ .scratch.Set .name .fallback }}
{{ end }}

{{ return .scratch }}
